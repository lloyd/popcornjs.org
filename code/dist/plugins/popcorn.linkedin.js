(function(f){f.plugin("linkedin",{manifest:{about:{name:"Popcorn LinkedIn Plugin",version:"0.1",author:"Dan Ventura",website:"dsventura.blogspot.com"},options:{type:{elem:"input",type:"text",label:"Type"},url:{elem:"input",type:"text",label:"URL"},apikey:{elem:"input",type:"text",label:"API Key"},counter:{elem:"input",type:"text",label:"Counter"},memberid:{elem:"input",type:"text",label:"Member ID"},format:{elem:"input",type:"text",label:"Format"},companyid:{elem:"input",type:"text",label:"Company ID"},
modules:{elem:"input",type:"text",label:"Modules"},productid:{elem:"input",type:"text",label:"productid"},related:{elem:"input",type:"text",label:"related"},start:{elem:"input",type:"text",label:"In"},end:{elem:"input",type:"text",label:"Out"},target:"linkedin-container"}},_setup:function(b){var d=b.apikey,e=document.getElementById(b.target),c=document.createElement("script");f.getScript("http://platform.linkedin.com/in.js");b._container=document.createElement("div");b._container.appendChild(c);if(d)c.innerHTML=
"api_key: "+d;b.type=b.type&&b.type.toLowerCase()||"";var g=function(a){return{share:function(){c.setAttribute("type","IN/Share");a.counter&&c.setAttribute("data-counter",a.counter);a.url&&c.setAttribute("data-url",a.url)},memberprofile:function(){c.setAttribute("type","IN/MemberProfile");c.setAttribute("data-id",a.memberid);c.setAttribute("data-format",a.format||"inline");a.text&&a.format.toLowerCase()!=="inline"&&c.setAttribute("data-text",a.text)},companyinsider:function(){c.setAttribute("type",
"IN/CompanyInsider");c.setAttribute("data-id",a.companyid);a.modules&&a._container.setAttribute("data-modules",a.modules)},companyprofile:function(){c.setAttribute("type","IN/CompanyProfile");c.setAttribute("data-id",a.companyid);c.setAttribute("data-format",a.format||"inline");a.text&&a.format.toLowerCase()!=="inline"&&c.setAttribute("data-text",a.text);a.related!==undefined&&c.setAttribute("data-related",a.related)},recommendproduct:function(){c.setAttribute("type","IN/RecommendProduct");c.setAttribute("data-company",
a.companyid||"LinkedIn");c.setAttribute("data-product",a.productid||"201714");a.counter&&c.setAttribute("data-counter",a.counter)}}}(b);if(d)g[b.type]&&g[b.type]();else{b._container=document.createElement("p");b._container.innerHTML="Plugin requires a valid <a href='https://www.linkedin.com/secure/developer'>apikey</a>";if(!e&&f.plugin.debug)throw"target container doesn't exist";e&&e.appendChild(b._container)}if(!e&&f.plugin.debug)throw Error("target container doesn't exist");e&&e.appendChild(b._container);
b._container.style.display="none"},start:function(b,d){d._container.style.display="block"},end:function(b,d){d._container.style.display="none"},_teardown:function(b){var d=document.getElementById(b.target);d&&d.removeChild(b._container)}})})(Popcorn);
