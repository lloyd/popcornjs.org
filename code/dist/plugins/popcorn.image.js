(function(d){d.plugin("image",{manifest:{about:{name:"Popcorn image Plugin",version:"0.1",author:"Scott Downe",website:"http://scottdowne.wordpress.com/"},options:{start:{elem:"input",type:"number",label:"In"},end:{elem:"input",type:"number",label:"Out"},href:{elem:"input",type:"text",label:"Link URL"},target:"image-container",src:{elem:"input",type:"text",label:"Source URL"},text:{elem:"input",type:"text",label:"TEXT"}}},_setup:function(a){var b=document.createElement("img"),e=document.getElementById(a.target);
a.link=document.createElement("a");a.link.style.position="relative";a.link.style.textDecoration="none";if(!e&&d.plugin.debug)throw Error("target container doesn't exist");e&&e.appendChild(a.link);b.addEventListener("load",function(){b.style.borderStyle="none";if(a.href)a.link.href=a.href;a.link.target="_blank";var f=b.height/12+"px",c=document.createElement("div");d.extend(c.style,{color:"black",fontSize:f,fontWeight:"bold",position:"relative",textAlign:"center",width:b.width+"px",zIndex:"10"});c.innerHTML=
a.text||"";a.link.appendChild(c);a.link.appendChild(b);c.style.top=b.height/2-c.offsetHeight/2+"px";a.link.style.display="none"},false);b.src=a.src},start:function(a,b){b.link.style.display="block"},end:function(a,b){b.link.style.display="none"},_teardown:function(a){document.getElementById(a.target)&&document.getElementById(a.target).removeChild(a.link)}})})(Popcorn);
