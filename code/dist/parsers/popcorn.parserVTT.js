(function(n){n.parser("parseVTT",function(c){var k={title:"",remote:"",data:[]},l=[],a=0,h=0,i=0,e,j,d,m=function(b){var f=b.split(":");b=b.length;var g;if(b!==12&&b!==9)throw"Bad cue";b=f.length-1;try{g=parseInt(f[b-1],10)*60+parseFloat(f[b],10);if(b===2)g+=parseInt(f[0],10)*3600}catch(p){throw"Bad cue";}return g},o=function(b,f){var g={};g[b]=f;return g};c=c.text.split(/(?:\r\n|\r|\n)/gm);for(h=c.length;a<h;){d={};j=[];try{d.id=c[a++];if(!d.id||d.id.indexOf("--\>")!==-1)throw"Bad cue";e=c[a++].split(/[\t ]*--\>[\t ]*/);
d.start=m(e[0]);i=e[1].indexOf(" ");if(i!==-1)e[1]=e[1].substr(0,i);for(d.end=m(e[1]);a<h&&c[a];)j.push(c[a++]);d.text=j.join("<br />");l.push(o("subtitle",d))}catch(q){for(;a<h&&c[a];)a++}for(;a<h&&!c[a];)a++}k.data=l;return k})})(Popcorn);
