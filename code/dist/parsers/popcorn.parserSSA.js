(function(s){s.parser("parseSSA",function(d){var m={title:"",remote:"",data:[]},n=[],o,p,i,b,j,c,k,e=0,a=0,l=0,q=0,r=function(h){var f=h.split(":"),g=f.length-1;if(h.length!==10)return-1;return parseInt(f[0],10)*3600+parseInt(f[g-1],10)*60+parseFloat(f[g],10)},t=function(h,f){var g={};g[h]=f;return g};d=d.text.split(/(?:\r\n|\r|\n)/gm);for(l=d.length;e<l&&d[e]!=="[Events]";)e++;b=d[++e].substr(8).split(", ");for(j=b.length;a<j;a++)if(b[a]==="Start")o=a;else if(b[a]==="End")p=a;else if(b[a]==="Text")i=
a;for(;++e<l&&d[e]&&d[e][0]!=="[";){c={};b=d[e].substr(10).split(",");c.start=r(b[o]);c.end=r(b[p]);if(!(c.start===-1||c.end===-1)){if((q=b.length)===j)c.text=b[i];else{k=[];for(a=i;a<q;a++)k.push(b[a]);c.text=k.join(",")}c.text=c.text.replace(/\{(\\[\w]+\(?([\w\d]+,?)+\)?)+\}/gi,"").replace(/\\N/gi,"<br />");n.push(t("subtitle",c))}}m.data=n;return m})})(Popcorn);
